<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.hxl.cache.mapper.UserMapper">

    <!-- TODO:
            eviction：缓存回收策略，可选LRU（最近最少使用）、FIFO（先进先出）等。
            flushInterval：缓存刷新间隔（毫秒），这里配置100秒。
            size：缓存可以存储的最大对象数目。
            readOnly：是否只读。如果为true，则所有调用者返回的是同一个缓存对象的实例，性能更好。
            启用二级缓存并进行配置
    -->
    <cache eviction="LRU" flushInterval="100000" size="1024" readOnly="true"/>

    <select id="queryUser" resultType="com.hxl.cache.entity.User">
        select user_id, username
        from t_user
        where user_id = #{userId}
    </select>

</mapper>